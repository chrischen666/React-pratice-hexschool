<!DOCTYPE html>
<html>
  <head>
    <title>è¡¨å–®æœ€çµ‚</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
    <script src="/javascripts/vendor.js"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.2.0/redux.min.js"
      integrity="sha512-1/8Tj23BRrWnKZXeBruk6wTnsMJbi/lJsk9bsRgVwb6j5q39n0A00gFjbCTaDo5l5XrPVv4DZXftrJExhRF/Ug=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body class="bg-lighter">
    <div class="container main my-5">
      <div class="row">
        <main class="col post">
          <!-- ç« ç¯€æ¨™é¡Œ -->
          <div class="mb-4">
            <h1 class="mt-0 text-muted">è¡¨å–®æœ€çµ‚</h1>
            <small>æª”åï¼š<code>final.html</code></small>
          </div>
          <!-- ğŸ”¥ğŸ”¥ç·´ç¿’é–‹å§‹ğŸ”¥ğŸ”¥ -->

          <div id="app"></div>
          <script src="https://cdn.jsdelivr.net/npm/react-hook-form@7.33.1/dist/index.umd.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"></script>
          <script type="text/babel">
            const { useState, useEffect } = React;
            const { useForm, useWatch } = ReactHookForm;

            const App = () => {
              const [addressData, setAddressData] = useState([]);
              const {
                register,
                handleSubmit,
                watch,
                getValues,
                control,
                formState: { errors },
              } = useForm({
                mode: "onTouched",
              });

              const watchForm = useWatch({
                control,
              });

              const onSubmit = (data) => {
                console.log(errors);
                console.log(data);
              };

              useEffect(() => {
                console.log(getValues()); // å¯ä»¥ä½¿ç”¨ getValues å–å¾—æ‰€æœ‰ã€ç‰¹å®šå€¼
                console.log("errors", errors);
                // æˆ–æ˜¯ä½¿ç”¨ setValues å¯«å…¥å€¼
              }, [watchForm]); // å°‡æ–°è®Šæ•¸å‚³å…¥

              // å–å¾—åœ°å€è³‡æ–™
              useEffect(() => {
                (async () => {
                  const result = await axios.get("./assets/taiwan.json");
                  console.log(result);
                  setAddressData(result.data);
                })();
              }, []);

              return (
                <div>
                  <form onSubmit={handleSubmit(onSubmit)}>
                    <div className="mb-3">
                      <label htmlFor="username" className="form-label">
                        ä½¿ç”¨è€…åç¨±
                      </label>
                      <input
                        id="username"
                        type="text"
                        className="form-control"
                        name="username"
                        {...register("username", {
                          required: "ä½¿ç”¨è€…åç¨±ç‚ºå¿…å¡«",
                          maxLength: {
                            value: 10,
                            message: "ä½¿ç”¨è€…åç¨±é•·åº¦ä¸è¶…é 10",
                          },
                        })}
                      />
                    </div>
                    <div className="mb-3">
                      <label htmlFor="password" className="form-label">
                        å¯†ç¢¼
                      </label>
                      <input
                        {...register("password", {
                          required: "å¯†ç¢¼ ç‚ºå¿…å¡«",
                          pattern: {
                            value:
                              /^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,
                            message: "å¯†ç¢¼éœ€åŒ…å«å¤§å°å¯«å­—æ¯ã€æ•¸å­—åŠç‰¹æ®Šç¬¦è™Ÿ",
                          },
                        })}
                        id="password"
                        type="password"
                        className="form-control"
                      />
                    </div>
                    <div className="mb-3">
                      <label htmlFor="tel">é›»è©±</label>
                      <input
                        {...register("tel", {
                          required: "é›»è©±ç‚ºå¿…å¡«",
                          minLength: {
                            value: 6,
                            message: "é›»è©±ä¸å°‘æ–¼ 6 ç¢¼",
                          },
                          maxLength: {
                            value: 12,
                            message: "é›»è©±ä¸è¶…é 12 ç¢¼",
                          },
                        })}
                        id="tel"
                        type="tel"
                        className="form-control"
                      />
                    </div>
                    <div className="row mb-3 g-3">
                      <div className="col-6">
                        <label htmlFor="city" className="form-label">
                          ç¸£å¸‚
                        </label>
                        <select
                          {...register("city", {
                            required: "ç¸£å¸‚ç‚ºå¿…å¡«",
                          })}
                          id="city"
                          className="form-select"
                        >
                          <option value="">è«‹é¸æ“‡ç¸£å¸‚</option>
                          {addressData.map((address) => {
                            return (
                              <option
                                key={address.CityName}
                                value={address.CityName}
                              >
                                {address.CityName}
                              </option>
                            );
                          })}
                        </select>
                      </div>
                      <div className="col-6">
                        <label htmlFor="district" className="form-label">
                          é„‰é®å¸‚å€
                        </label>
                        <select
                          {...register("district", {
                            required: "é„‰é®å¸‚å€ç‚ºå¿…å¡«",
                          })}
                          id="district"
                          className="form-select"
                          disabled={!getValues().city}
                        >
                          <option>Choose...</option>
                          {addressData
                            .find((city) => {
                              return city.CityName === getValues().city;
                            })
                            ?.AreaList.map((area) => {
                              return (
                                <option
                                  key={area.AreaName}
                                  value={area.AreaName}
                                >
                                  {area.AreaName}
                                </option>
                              );
                            })}
                        </select>
                      </div>
                    </div>
                    <div className="mb-3">
                      <div className="mb-3">
                        <label htmlFor="address">åœ°å€</label>
                        <input
                          {...register("address", {
                            required: "åœ°å€ç‚ºå¿…å¡«",
                          })}
                          id="address"
                          type="text"
                          className="form-control"
                        />
                      </div>
                    </div>
                    <div className="mb-3">
                      <div className="form-label">ç´ é£Ÿè€…</div>
                      <div className="form-check">
                        <input
                          className="form-check-input"
                          type="radio"
                          name="isVegetarian"
                          id="vegetarian"
                          value={true}
                          {...register("isVegetarian", {
                            required: "è«‹é¸æ“‡æ˜¯å¦åƒç´ ",
                          })}
                        />
                        <label
                          className="form-check-label"
                          htmlFor="vegetarian"
                        >
                          æ˜¯
                        </label>
                      </div>
                      <div className="form-check">
                        <input
                          className="form-check-input"
                          type="radio"
                          name="isVegetarian"
                          id="non-vegetarian"
                          value={false}
                          {...register("isVegetarian", {
                            required: "è«‹é¸æ“‡æ˜¯å¦åƒç´ ",
                          })}
                        />
                        <label
                          className="form-check-label"
                          htmlFor="non-vegetarian"
                        >
                          å¦
                        </label>
                      </div>
                    </div>
                    <div className="mb-3">
                      <label htmlFor="comment">è¨»è§£</label>
                      <textarea
                        {...register("comment")}
                        id="comment"
                        rows="5"
                        className="form-control"
                        defaultValue="é¤é»å¾ˆä¸éŒ¯å–”"
                      />
                    </div>
                    <div className="mb-3">
                      <div className="form-check">
                        <input
                        
                          className="form-check-input"
                          type="checkbox"
                          id="checkbox"
                          required
                          {...register("isCheckForm", {
                            required: true,
                          })}
                        />
                        <label className="form-check-label" htmlFor="checkbox">
                          ç¢ºèªåŒæ„æœ¬æ–‡ä»¶
                        </label>
                      </div>
                    </div>
                    <button type="submit" className="btn btn-primary">
                      è¨»å†Š
                    </button>
                  </form>
                </div>
              );
            };

            ReactDOM.createRoot(document.querySelector("#app")).render(<App />);
          </script>

          <!-- ğŸ™‡ğŸ™‡ç·´ç¿’çµæŸğŸ™‡ğŸ™‡ -->
        </main>

        <aside class="col-md-3">
          <div class="sticky-top" style="top: 76px">
            <div class="list-group">
              <a
                href="/form/basicForm.html"
                class="list-group-item list-group-item-action"
              >
                åŸºç¤è¡¨å–®è§€å¿µ
              </a>

              <a
                href="/form/reactForm.html"
                class="list-group-item list-group-item-action"
              >
                React èˆ‡è¡¨å–®å…ƒç´ 
              </a>

              <a
                href="/form/reactForm2.html"
                class="list-group-item list-group-item-action"
              >
                React èˆ‡è¡¨å–®å…ƒç´  2
              </a>

              <a
                href="/form/submitForm.html"
                class="list-group-item list-group-item-action"
              >
                è¡¨å–®é€å‡º
              </a>

              <a
                href="/form/formEvent.html"
                class="list-group-item list-group-item-action"
              >
                è¡¨å–®æ–¹æ³•
              </a>

              <a
                href="/form/basicHookForm.html"
                class="list-group-item list-group-item-action"
              >
                React Hook Form åŸºç¤
              </a>

              <a
                href="/form/hookFormDefaultValue.html"
                class="list-group-item list-group-item-action"
              >
                React Hook Form æ§åˆ¶å€¼
              </a>

              <a
                href="/form/hookFormErrorStyle.html"
                class="list-group-item list-group-item-action"
              >
                React Hook Form éŒ¯èª¤æ¨£å¼
              </a>

              <a
                href="/form/hookFormValidation.html"
                class="list-group-item list-group-item-action"
              >
                React Hook Form é©—è­‰æ–¹æ³•
              </a>

              <a
                href="/form/hookFormComponent.html"
                class="list-group-item list-group-item-action"
              >
                React Hook Form å…ƒä»¶åŒ–
              </a>

              <a
                href="/form/final.html"
                class="list-group-item list-group-item-action active"
              >
                è¡¨å–®æœ€çµ‚
              </a>

              <a
                href="/form/finalAnswer.html"
                class="list-group-item list-group-item-action"
              >
                è¡¨å–®æœ€çµ‚ è§£ç­”
              </a>
            </div>
            <div class="mt-3 text-end p-2 bg-light rounded">
              <small class="text-black-50 fw-light mb-0"
                >æ–‡ä»¶ç‰ˆæœ¬ï¼š2022/10/31</small
              >
            </div>
          </div>
        </aside>
      </div>
    </div>

    <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">React ç·´ç¿’æ‰‹å†Š</a>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/intro/createApp.html">èªè­˜ React</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/es6/shorthand.html">JS å¿…å‚™è§€å¿µ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/components/intro.html">å…ƒä»¶åŸºç¤</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/hooks/startHooks.html">Hooks</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/form/basicForm.html">è¡¨å–®</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/hooksAdv/lifeCycle.html">Hooks é€²éš</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <footer class="footer py-2 bg-light">
      <div class="container text-center">
        <small class="text-black-50 fw-light mb-0"
          >å…­è§’å­¸é™¢ React èª²ç¨‹å°ˆå±¬æ–‡ä»¶</small
        >
      </div>
    </footer>
    <link rel="stylesheet" href="/stylesheets/all.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css"
    />
  </body>
</html>
